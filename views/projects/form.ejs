<%- include('../partials/head') %>

<div class="page-header">
  <div>
    <a href="/projects" class="back-link"><%= t.project_form_back %></a>
    <h1 class="page-title"><%= project ? t.project_form_edit : t.project_form_new %></h1>
  </div>
</div>

<div class="form-container">
  <% if (typeof error !== 'undefined' && error) { %>
    <div class="alert alert-error"><%= error %></div>
  <% } %>

  <form method="POST" action="/projects/new" class="form-card">
    <div class="form-row">
      <div class="form-group form-group-lg">
        <label for="name"><%= t.project_form_name %></label>
        <input type="text" id="name" name="name" required placeholder="<%= t.project_form_name_placeholder %>" value="<%= project ? project.name : '' %>">
      </div>
      <div class="form-group">
        <label for="code"><%= t.project_form_code %></label>
        <input type="text" id="code" name="code" required placeholder="<%= t.project_form_code_placeholder %>" maxlength="6" style="text-transform:uppercase" value="<%= project ? project.code : '' %>">
        <span class="form-hint"><%= t.project_form_code_hint %></span>
      </div>
    </div>

    <div class="form-group">
      <label for="description"><%= t.project_form_description %></label>
      <textarea id="description" name="description" rows="3" placeholder="<%= t.project_form_desc_placeholder %>"><%= project ? project.description : '' %></textarea>
    </div>

    <div class="form-row">
      <div class="form-group">
        <label for="priority"><%= t.label_priority %></label>
        <select id="priority" name="priority">
          <option value="low"><%= t.priority_low %></option>
          <option value="medium" selected><%= t.priority_medium %></option>
          <option value="high"><%= t.priority_high %></option>
          <option value="critical"><%= t.priority_critical %></option>
        </select>
      </div>
      <div class="form-group">
        <label for="color"><%= t.project_form_color %></label>
        <div class="color-picker">
          <% ['#6366f1','#ec4899','#f59e0b','#10b981','#3b82f6','#8b5cf6','#ef4444','#14b8a6'].forEach(c => { %>
            <label class="color-option">
              <input type="radio" name="color" value="<%= c %>" <%= c === '#6366f1' ? 'checked' : '' %>>
              <span class="color-swatch" style="background-color: <%= c %>"></span>
            </label>
          <% }) %>
        </div>
      </div>
    </div>

    <div class="form-actions">
      <a href="/projects" class="btn btn-ghost"><%= t.cancel %></a>
      <button type="submit" class="btn btn-primary"><%= t.project_form_create %></button>
    </div>
  </form>
</div>

<%- include('../partials/foot') %>
