<% var body = '' %>
<!DOCTYPE html>
<html lang="<%= t.lang %>">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title><%= t.login_title %> â€” ProjectHub</title>
  <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/css/style.css">
</head>
<body class="login-body">
  <div class="login-container">
    <div class="login-card">
      <!-- Language Toggle -->
      <div class="lang-toggle-login">
        <a href="/lang/fr" class="lang-btn <%= t.lang === 'fr' ? 'active' : '' %>">ðŸ‡«ðŸ‡· FR</a>
        <a href="/lang/en" class="lang-btn <%= t.lang === 'en' ? 'active' : '' %>">ðŸ‡¬ðŸ‡§ EN</a>
      </div>

      <div class="login-header">
        <div class="logo-icon logo-icon-lg">P</div>
        <h1>ProjectHub</h1>
        <p><%= t.login_subtitle %></p>
      </div>

      <% if (typeof error !== 'undefined' && error) { %>
        <div class="alert alert-error">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><line x1="15" y1="9" x2="9" y2="15"/><line x1="9" y1="9" x2="15" y2="15"/></svg>
          <%= error %>
        </div>
      <% } %>

      <form method="POST" action="/login" class="login-form">
        <div class="form-group">
          <label for="username"><%= t.login_username %></label>
          <input type="text" id="username" name="username" required autofocus placeholder="<%= t.login_username_placeholder %>">
        </div>
        <div class="form-group">
          <label for="password"><%= t.login_password %></label>
          <input type="password" id="password" name="password" required placeholder="<%= t.login_password_placeholder %>">
        </div>
        <button type="submit" class="btn btn-primary btn-full">
          <%= t.login_submit %>
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M5 12h14"/><path d="m12 5 7 7-7 7"/></svg>
        </button>
      </form>

      <div class="login-demo">
        <p><%= t.login_demo_title %></p>
        <div class="demo-accounts">
          <button onclick="fillLogin('admin','admin123')" class="demo-btn">
            <span class="demo-role"><%= t.role_admin %></span>
            <span class="demo-creds">admin / admin123</span>
          </button>
          <button onclick="fillLogin('dev1','dev123')" class="demo-btn">
            <span class="demo-role"><%= t.role_developer_short %></span>
            <span class="demo-creds">dev1 / dev123</span>
          </button>
          <button onclick="fillLogin('support1','support123')" class="demo-btn">
            <span class="demo-role"><%= t.role_support %></span>
            <span class="demo-creds">support1 / support123</span>
          </button>
        </div>
      </div>
    </div>
  </div>

  <script>
    function fillLogin(user, pass) {
      document.getElementById('username').value = user;
      document.getElementById('password').value = pass;
      document.querySelector('.login-form').submit();
    }
  </script>
</body>
</html>
